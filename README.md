# Trinity โ ะะพัะบะฐ ะพะฑััะฒะปะตะฝะธะน ะฃะทะฑะตะบะธััะฐะฝ

ะะพะฝะพัะตะฟะพ: EmployerBot (ัะฐะฑะพัะพะดะฐัะตะปะธ) + WorkerBot (ะฒ ัะฐะทัะฐะฑะพัะบะต).

## ะกัะตะบ

- Node.js 20+
- TypeScript
- Telegraf
- PostgreSQL + Prisma

## ะกัััะบัััะฐ

```
โโโ packages/
โ   โโโ db/          # Prisma schema, ะพะฑัะธะต ัััะฝะพััะธ
โโโ apps/
โ   โโโ employer-bot/
โโโ docker-compose.yml
```

## ะะฐะฟััะบ ะปะพะบะฐะปัะฝะพ

### 1. PostgreSQL

```bash
docker compose up -d postgres
```

### 2. ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

```bash
cp .env.example .env
# ะะฐะฟะพะปะฝะธัะต BOT_TOKEN_EMPLOYER, DATABASE_URL
```

### 3. ะะธะณัะฐัะธะธ

```bash
pnpm install
pnpm db:migrate
```

### 4. ะะพั

```bash
pnpm employer:dev
```

## ะะตะฟะปะพะน ะฝะฐ VPS (pm2)

```bash
# ะกะฑะพัะบะฐ
pnpm install
pnpm db:migrate
pnpm employer:build

# ะะฐะฟััะบ
pm2 start apps/employer-bot/dist/index.js --name employer-bot
pm2 save
pm2 startup
```

## EmployerBot โ ััะฝะบัะธะพะฝะฐะป

- **/start** โ ะฟัะธะฒะตัััะฒะธะต, ัะพะณะปะฐัะธะต ะฝะฐ ะพะฑัะฐะฑะพัะบั ะดะฐะฝะฝัั, ะณะปะฐะฒะฝะพะต ะผะตะฝั
- **ะกะพะทะดะฐัั ะทะฐัะฒะบั** โ wizard: ะฟัะพัะตััะธั โ ะดะฐัะฐ โ ะฒัะตะผั โ ะผะตััะพ โ ะพะฟะปะฐัะฐ โ ะฟะพะดัะฒะตัะถะดะตะฝะธะต
- **ะะพะธ ะทะฐัะฒะบะธ** โ ัะฟะธัะพะบ ั ะฟะฐะณะธะฝะฐัะธะตะน, ะบะฝะพะฟะบะธ: ะะฐะบัััั, ะฃะดะฐะปะธัั, ะะพะฒัะพัะธัั
- **ะะพะผะพัั** โ ะบัะฐัะบะฐั ะธะฝััััะบัะธั

## ะัะธะผะตั ะบะฐััะพัะบะธ ะทะฐัะฒะบะธ

```
๐ ะะฐัะฒะบะฐ #clxxx...
โโโโโโโโโโโโโโ
๐ท ะัะพัะตััะธั: ะััะทัะธะบ
๐ ะะฐัะฐ: 15.03.2025
๐ ะัะตะผั: 14:30
๐ ะะตััะพ: ะฎะฝััะฐะฑะฐะด, ััะฝะพะบ
๐ฐ ะะฟะปะฐัะฐ: 25 000 UZS/ัะฐั
โโโโโโโโโโโโโโ
```

## Callback_data ะบะฝะพะฟะพะบ

- `consent` โ ัะพะณะปะฐัะธะต
- `prof:ะััะทัะธะบ` โ ะฒัะฑะพั ะฟัะพัะตััะธะธ
- `prof:other` โ ะฒะฒะพะด ัะฒะพะตะน ะฟัะพัะตััะธะธ
- `wizard_cancel`, `wizard_publish`, `wizard_edit` โ wizard
- `my_page:1` โ ะฟะฐะณะธะฝะฐัะธั
- `my_close:id`, `my_del:id`, `my_rep:id` โ ะดะตะนััะฒะธั ั ะทะฐัะฒะบะพะน
